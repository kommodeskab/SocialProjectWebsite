---
title: Text and review analysis ðŸ“–
prev: network-analysis
---

# Numerical reviews
We wanted to analyze and visualize the numerical ratings of the airports around the world. We wanted to get a general view of how airports are rated all around the world. Therefore, we decided to fit a [Gaussian Process](https://en.wikipedia.org/wiki/Gaussian_process) to the dataset, such that the input features are the latitude and longitude coordinates of the airports, and the target variable is the fraction of positive reviews. Therefore, the target values falls in the range [0, 1], where 0 means no positive reviews, and 1 means only positive reviews. We used a Radial Basis Function with lengthscale \(l=15\) latitude/longitude degrees. A very useful feature of using a Gaussian Process is the fact that the model actually outputs a probability distribution over the target values, enabling us to mask out areas where the model is not able to determine the target value within an certain error. This error is calculated based on the number of reviews, such that the model is more uncertain in areas where fewer reviews are given. Especially in the northern regions, around greenland and northern Russia, there is (almost) no airport reviews, resulting in a high error. These regions have been colored grey by the model. 
![Gaussian Process](https://raw.githubusercontent.com/kommodeskab/SocialProject/main/images/Average%20recommendation%20score.png)
![Gaussian Process per BNP](https://raw.githubusercontent.com/kommodeskab/SocialProject/main/images/Average%20recommendation%20score%20per%20BNP%20per%20capita.png)
***Top pane**: estimated airport quality in any given set of coordinates based on the quality of nearby airports. **Bottom pane**: same as top pane, except quality is adjusted for BNP.*

The results shows that "good airports" are scattered around the globe, mainly in northern and southern South America, aswell as eastern North America and eastern Asia specifically has the highest scoring airports in terms of fraction of positive reviews. South eastern Africa is very confidently the best area for airports that outperforms expectations when adjusted for BNP.

Given more time, it could have been very interesting to further explore the use of a Gaussian Processes to visualize airport ratings. In particular, one could investigate [graph kernels](https://proceedings.mlr.press/v130/borovitskiy21a/borovitskiy21a.pdf), a kind of kernel that does not consider spatial distance between points, but instead their connectivity as described by edges in a graph. Kernels have the interesting property of being able to be combined, giving us the potential ability to consider BOTH spatial distance and graph connectivity between airports at the same time.

# Textual Analysis
As it turns out(see explainer notebook), wordclouds, TF, and TF-IDF are not be very informative for this case study. This is because the reviews are too similar in subject matter and the communities simply do not differentiate themselves enough linguistically. The vocabulary being used is repetitive and very narrow in its scope. This is why we also use sentiment analysis to investigate the reviews. This will allow us a different insight from the reviews. The vader package is highly sofisticated and is able to detect the sentiment of a text. The library is a pre-trained model that knows how to deal with negation, capitalization, emoticons, etc.. Therefore we will not tokenize or stem the text for this specific task. We will simply use the text as it is. The compound score will be used to determine the sentiment of the review. The compound score is a normalized score that ranges from -1 to 1. We will use this score to determine the sentiment of the review. Then it is easy to plot each community(continent) and see how the sentiment of the continents' airports differ. There are 6 continents in this analysis with different amounts of reviews. Number of reviews for each: North America(188), Europe(3680), Africa(100), Oceania(170), Asia(321), South America(63). This is a considerable yet not huge amount of data, and should hopefully be representative for each community, since it originates from many different airports in each community. We would ideally have liked to have more textual data, but professional API's such as Google Spaces are expensive and therefore out of the scope of this project. Below is a plot of the compound sentiment-score of each community.
<img src="https://raw.githubusercontent.com/kommodeskab/SocialProject/main/images/sentiment.png" alt="Sentiment" width="500"/> <img src="https://raw.githubusercontent.com/kommodeskab/SocialProject/main/images/recommended.png" alt="Fraction" width="500"/>
***Top pane**: Compound sentiment score of reviews for each continent with errors. **Bottom pane**: Fraction of positive reviews for each continent with errors.*

As seen from the plot, South America and North America have the best reviews on average, with Africa coming in third. This is not necessarily commensurate with the findings from the binary variable "recommended" which we used to model the Gaussian process around. In the explainer notebook a significant correlation between the two is however showcased.
With scores ranging from around 0.2 - 0.4, the general feeling people convey in their reviews is a positive one. 
